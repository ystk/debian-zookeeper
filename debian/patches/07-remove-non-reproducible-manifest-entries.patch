Description: Remove the Built-At, Built-By and Built-On entries in the manifest of the jar files to improve the build reproducibility
Author: Emmanuel Bourg <ebourg@apache.org>
Forwarded: no
--- a/build.xml
+++ b/build.xml
@@ -546,9 +546,6 @@ xmlns:maven="antlib:org.apache.maven.art
             <fileset dir="${src_generated.dir}" excludes="**/.generated"/>
             <manifest>
                 <attribute name="Main-Class" value="org.apache.zookeeper.server.quorum.QuorumPeer" />
-                <attribute name="Built-By" value="${user.name}"/>
-                <attribute name="Built-At" value="${build.time}"/>
-                <attribute name="Built-On" value="${host.name}" />
                 <attribute name="Implementation-Title" value="org.apache.zookeeper"/>
                 <attribute name="Implementation-Version" value="${revision}"/> 
                 <attribute name="Implementation-Vendor" value="The Apache Software Foundation"/>
@@ -587,9 +584,6 @@ xmlns:maven="antlib:org.apache.maven.art
             <fileset dir="${build.classes}" excludes="**/.generated"/>
             <manifest>
                 <attribute name="Main-Class" value="org.apache.zookeeper.server.quorum.QuorumPeer" />
-                <attribute name="Built-By" value="${user.name}"/>
-                <attribute name="Built-At" value="${build.time}"/>
-                <attribute name="Built-On" value="${host.name}" />
                 <attribute name="Implementation-Title" value="org.apache.zookeeper"/>
                 <attribute name="Implementation-Version" value="${revision}"/> 
                 <attribute name="Implementation-Vendor" value="The Apache Software Foundation"/>
@@ -619,9 +613,6 @@ xmlns:maven="antlib:org.apache.maven.art
             <fileset dir="${java.src.dir}"/>
             <fileset dir="${src_generated.dir}" excludes="**/.generated"/>
             <manifest>
-                <attribute name="Built-By" value="${user.name}"/>
-                <attribute name="Built-At" value="${build.time}"/>
-                <attribute name="Built-On" value="${host.name}" />
                 <attribute name="Implementation-Title" value="org.apache.zookeeper"/>
                 <attribute name="Implementation-Version" value="${revision}"/> 
                 <attribute name="Implementation-Vendor" value="The Apache Software Foundation"/>
@@ -637,9 +628,6 @@ xmlns:maven="antlib:org.apache.maven.art
             <fileset file="LICENSE.txt" />
             <fileset dir="${build.javadoc}"/>
             <manifest>
-                <attribute name="Built-By" value="${user.name}"/>
-                <attribute name="Built-At" value="${build.time}"/>
-                <attribute name="Built-On" value="${host.name}" />
                 <attribute name="Implementation-Title" value="org.apache.zookeeper"/>
                 <attribute name="Implementation-Version" value="${revision}"/> 
                 <attribute name="Implementation-Vendor" value="The Apache Software Foundation"/>
@@ -655,9 +643,6 @@ xmlns:maven="antlib:org.apache.maven.art
             <fileset file="LICENSE.txt" />
             <fileset dir="${test.java.classes}"/>
             <manifest>
-                <attribute name="Built-By" value="${user.name}"/>
-                <attribute name="Built-At" value="${build.time}"/>
-                <attribute name="Built-On" value="${host.name}" />
                 <attribute name="Implementation-Title" value="org.apache.zookeeper"/>
                 <attribute name="Implementation-Version" value="${revision}"/> 
                 <attribute name="Implementation-Vendor" value="The Apache Software Foundation"/>
